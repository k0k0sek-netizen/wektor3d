---
import { Image } from 'astro:assets';
const features = [
  "Stabilność termiczna: Zamknięta komora pozwala na druk z materiałów kurczliwych (ASA, ABS)",
  "Druk wielomateriałowy: Dedykowane materiały podporowe zapewniają gładkie powierzchnie stykowe",
  "Automatyczna kalibracja: Systemy kompensacji drgań i kontroli ciśnienia (Pressure Advance)"
];
---

<section class="py-24 bg-zinc-950 text-white overflow-hidden fade-in-section" id="technologia">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
      <!-- Image Column (Left on Desktop) -->
      <div class="order-2 md:order-1 relative">
        <!-- Glow Effect -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-orange-500/10 blur-[80px] rounded-full pointer-events-none"></div>
        
        <div id="tech-interactive-image" class="relative bg-zinc-900 border border-zinc-800 rounded-2xl aspect-square flex items-center justify-center overflow-hidden shadow-2xl group select-none touch-manipulation cursor-pointer transition-transform duration-500 tap-highlight-transparent [&.active]:scale-105 [&.active]:shadow-2xl [&.active]:shadow-orange-500/20">
          <Image 
            src="/bambu.webp" 
            alt="wydruk wysokiej jakości" 
            width={600} 
            height={600} 
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          />
          
          <!-- Optional: Overlay gradient for depth -->
          <div class="absolute inset-0 bg-gradient-to-tr from-zinc-950/50 to-transparent pointer-events-none"></div>
        </div>
      </div>

      <!-- Text Column (Right on Desktop) -->
      <div class="order-1 md:order-2 space-y-8">
        <h2 class="text-3xl md:text-5xl bg-clip-text text-transparent bg-gradient-to-b from-white via-zinc-200 to-zinc-500 font-bold tracking-tight leading-tight">
          Zaplecze <br/>
          <span class="text-orange-500">Technologiczne</span>
        </h2>
        
        <p class="text-zinc-400 text-lg leading-relaxed">
          Korzystam z nowoczesnych stacji roboczych pracujących w kinematyce CoreXY.
        </p>

        <ul class="space-y-4">
          {features.map((feature) => (
            <li class="flex items-center gap-3 text-zinc-300">
              <span class="flex-shrink-0 w-6 h-6 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                </svg>
              </span>
              {feature}
            </li>
          ))}
        </ul>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const techImg = document.getElementById('tech-interactive-image');

    if (techImg) {
      techImg.addEventListener('click', (e) => {
        techImg.classList.toggle('active');
        e.stopPropagation();
      });

      document.body.addEventListener('click', (e) => {
        if (e.target !== techImg && !techImg.contains(e.target)) {
          techImg.classList.remove('active');
        }
      });
    }
  });
</script>
