---
const links = [
  { name: "Proces", href: "#proces" },
  { name: "Technologia", href: "#technologia" },
  { name: "Realizacje", href: "#realizacje" },
  { name: "Materiały", href: "#materials" },
  { name: "Źródła", href: "#zrodla" },
  { name: "FAQ", href: "#faq" },
  { name: "Kontakt", href: "#kontakt" },
];
---

<nav class="fixed top-0 w-full z-50 bg-zinc-950/80 backdrop-blur-md border-b border-white/5">
  <div class="container mx-auto px-6 h-20 flex items-center justify-between">
    <a href="#" class="text-xl font-bold tracking-tighter text-white">Wektor 3D</a>

    <!-- Desktop Menu -->
    <div class="hidden lg:flex gap-6 items-center">
      {links.map((link) => (
        <a 
          href={link.href} 
          class="text-sm font-medium text-zinc-400 hover:text-white transition-colors"
        >
          {link.name}
        </a>
      ))}
      <a 
        href="https://wektor-kodu.vercel.app" 
        target="_blank"
        rel="noopener noreferrer"
        class="text-sm font-medium text-teal-400 hover:text-teal-300 transition-colors border border-teal-400/30 px-4 py-1.5 rounded-full hover:bg-teal-400/10"
      >
        Software
      </a>
    </div>

    <!-- Hamburger Button -->
    <button id="menu-toggle" class="lg:hidden z-50 relative group p-2" aria-label="Toggle menu">
      <div class="space-y-2">
        <span class="block w-8 h-0.5 bg-white transition-transform duration-300 origin-center" id="line1"></span>
        <span class="block w-8 h-0.5 bg-white transition-opacity duration-300" id="line2"></span>
        <span class="block w-8 h-0.5 bg-white transition-transform duration-300 origin-center" id="line3"></span>
      </div>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  <div id="mobile-menu" class="fixed inset-0 bg-zinc-950/98 backdrop-blur-xl z-40 flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-all duration-300">
    {links.map((link) => (
      <a 
        href={link.href} 
        class="mobile-link text-3xl font-bold text-zinc-300 hover:text-white transition-colors"
      >
        {link.name}
      </a>
    ))}
    <a 
      href="https://wektor-kodu.vercel.app" 
      target="_blank"
      rel="noopener noreferrer"
      class="mobile-link text-xl text-teal-400 mt-4 border border-teal-400/30 px-8 py-3 rounded-full hover:bg-teal-400/10 transition-colors"
    >
      Usługi Software
    </a>
  </div>
</nav>

<script>
  const btn = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');
  const links = document.querySelectorAll('.mobile-link');
  const lines = [document.getElementById('line1'), document.getElementById('line2'), document.getElementById('line3')];
  let isOpen = false;

  function toggleMenu() {
    isOpen = !isOpen;
    document.body.style.overflow = isOpen ? 'hidden' : ''; // Scroll Lock
    
    // Animacja Menu
    if(isOpen) {
      menu?.classList.remove('opacity-0', 'pointer-events-none');
      menu?.classList.add('opacity-100', 'pointer-events-auto');
      
      // Animacja Hamburgera w X
      lines[0]?.classList.add('rotate-45', 'translate-y-2.5');
      lines[1]?.classList.add('opacity-0');
      lines[2]?.classList.add('-rotate-45', '-translate-y-2.5');
    } else {
      menu?.classList.remove('opacity-100', 'pointer-events-auto');
      menu?.classList.add('opacity-0', 'pointer-events-none');
      
      // Powrót Hamburgera
      lines[0]?.classList.remove('rotate-45', 'translate-y-2.5');
      lines[1]?.classList.remove('opacity-0');
      lines[2]?.classList.remove('-rotate-45', '-translate-y-2.5');
    }
  }

  btn?.addEventListener('click', toggleMenu);
  links.forEach(link => link.addEventListener('click', toggleMenu)); // Zamknij po kliknięciu
</script>
