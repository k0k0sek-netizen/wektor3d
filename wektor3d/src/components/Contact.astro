---
---

<section class="py-24 bg-zinc-900 text-white fade-in-section" id="kontakt">
  <div class="container mx-auto px-4 max-w-2xl">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-5xl bg-clip-text text-transparent bg-gradient-to-b from-white via-zinc-200 to-zinc-500 font-bold tracking-tight mb-4">Skonsultuj swój projekt</h2>
      <p class="text-zinc-300 text-lg">Wypełnij formularz, a odpowiem z wyceną najszybciej jak to możliwe.</p>
      <p class="text-sm text-zinc-400 mt-4 flex items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
        </svg>
        Odpowiadam zazwyczaj w ciągu 2 godzin. Wstępna analiza wykonalności jest zawsze darmowa.
      </p>
    </div>

    <form id="contact-form" action="https://formspree.io/f/mjkzrlay" method="POST" class="space-y-6 bg-zinc-950/50 p-8 rounded-2xl border border-zinc-800 shadow-xl">
      
      <!-- Hidden Subject -->
      <input type="hidden" name="_subject" value="Nowy Lead Wektor 3D" />
      
      <!-- Name -->
      <div>
        <label for="name" class="block text-sm font-medium text-zinc-300 mb-2">Imię</label>
        <input 
          type="text" 
          id="name" 
          name="name" 
          required
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors"
        />
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-medium text-zinc-300 mb-2">Email</label>
        <input 
          type="email" 
          id="email" 
          name="email" 
          required
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors"
        />
      </div>

      <!-- Order Type -->
      <div>
        <label for="order-type" class="block text-sm font-medium text-zinc-300 mb-2">Rodzaj zgłoszenia</label>
        <select 
          id="order-type" 
          name="order-type" 
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors appearance-none"
        >
          <option value="gotowy-plik">Mam gotowy plik do druku</option>
          <option value="link-model">Posiadam link do modelu</option>
          <option value="inzynieria-odwrotna">Zlecenie inżynierii odwrotnej</option>
          <option value="inne">Inne / Oprzyrządowanie</option>
        </select>
      </div>

      <!-- Link to Model -->
      <div>
        <label for="link" class="block text-sm font-medium text-zinc-300 mb-2">Link do modelu</label>
        <input 
          type="text" 
          id="link" 
          name="link" 
          required
          placeholder="Link do pliku (np. Google Drive, WeTransfer, Dropbox)"
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors"
        />
      </div>

      <!-- Material -->
      <div>
        <label for="contact-material" class="block text-sm font-medium text-zinc-300 mb-2">Materiał</label>
        <select 
          id="contact-material" 
          name="material" 
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors appearance-none"
        >
          <option value="doradz">Nie wiem / Doradź mi</option>
          <option value="pla">PLA</option>
          <option value="petg">PETG</option>
          <option value="asa">ASA</option>
          <option value="tpu">TPU</option>
        </select>
      </div>

      <!-- Message -->
      <div>
        <label for="message" class="block text-sm font-medium text-zinc-300 mb-2">Wiadomość (opcjonalne)</label>
        <textarea 
          id="message" 
          name="message" 
          rows="4"
          class="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors resize-none"
        ></textarea>
      </div>

      <!-- Submit Button -->
      <button 
        type="submit" 
        class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-lg transition-colors shadow-lg shadow-orange-900/20"
      >
        Wyślij Zapytanie
      </button>

    </form>
  </div>
  </div>
</section>

<script>
  const form = document.getElementById('contact-form');

  if (form) {
    form.addEventListener('submit', async function(e) {
      e.preventDefault(); // Zatrzymaj standardowe wysyłanie
      
      const formData = new FormData(form);
      const action = form.getAttribute('action');
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalBtnText = submitBtn.innerText;

      // Zmień tekst przycisku na "Wysyłanie..."
      submitBtn.innerText = 'Wysyłanie...';
      submitBtn.disabled = true;

      try {
        const response = await fetch(action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });

        if (response.ok) {
          // 1. Wyczyść formularz
          form.reset();
          
          // 2. Przekieruj na stronę podziękowania
          window.location.href = '/dziekuje';
        } else {
          alert('Wystąpił błąd podczas wysyłania. Spróbuj ponownie.');
          submitBtn.innerText = originalBtnText;
          submitBtn.disabled = false;
        }
      } catch (error) {
        console.error('Error:', error);
        alert('Wystąpił błąd sieci. Sprawdź połączenie.');
        submitBtn.innerText = originalBtnText;
        submitBtn.disabled = false;
      }
    });
  }
</script>
