---
const steps = [
  {
    number: "01",
    title: "Zgłoszenie",
    description: "Wysyłasz gotowy plik LUB zdjęcia uszkodzonej części / rysunek szablonu.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" /></svg>`
  },
  {
    number: "02",
    title: "Analiza Inżynierska",
    description: "Dobieram technologię (np. odporność na smary, UV) i wyceniam usługę.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>`
  },
  {
    number: "03",
    title: "Realizacja",
    description: "Uruchamiam proces produkcji na precyzyjnych stacjach roboczych. Gotowe elementy poddaję kontroli jakości i bezpiecznie pakuję do wysyłki.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5V18a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18V7.5M21 7.5V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v1.5m18 0-6 4.5-6-4.5" /></svg>`
  },
  {
    number: "04",
    title: "Odbiór",
    description: "Paczkomat InPost lub odbiór osobisty.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" /></svg>`
  }
];
---

<section class="py-24 bg-zinc-900/50 text-white fade-in-section" id="proces">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl bg-clip-text text-transparent bg-gradient-to-b from-white via-zinc-200 to-zinc-500 font-bold tracking-tight mb-4">Jak to działa?</h2>
      <p class="text-zinc-400 text-lg">Prosty proces od pomysłu do realizacji</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {steps.map((step) => (
        <div class="group relative overflow-hidden bg-zinc-900 border border-zinc-800 p-8 rounded-2xl hover:border-orange-500/50 [&.active]:border-orange-500/50 active:border-orange-500/50 transition-all duration-300 hover:-translate-y-1 active:scale-[0.98] active:translate-y-0 [&.active]:scale-[0.98] [&.active]:translate-y-0 select-none touch-manipulation no-callout js-touch-card cursor-pointer tap-highlight-transparent">
          <div class="pointer-events-none absolute -inset-px opacity-0 transition duration-300 group-hover:opacity-100 group-[.active]:opacity-100 group-active:opacity-100"
               style="background: radial-gradient(600px circle at var(--mouse-x, 0) var(--mouse-y, 0), rgba(255,255,255,0.06), transparent 40%); z-index: 10;">
          </div>
          <div class="absolute -top-4 -left-4 w-12 h-12 bg-zinc-950 border border-zinc-800 rounded-xl flex items-center justify-center text-orange-500 font-bold text-xl group-hover:border-orange-500/50 group-[.active]:border-orange-500/50 group-active:border-orange-500/50 group-hover:text-orange-400 group-[.active]:text-orange-400 group-active:text-orange-400 transition-colors relative z-20">
            {step.number}
          </div>
          
          <div class="flex items-center gap-4 mb-3 relative z-20">
            <div class="text-zinc-400 group-hover:text-orange-500 group-[.active]:text-orange-500 group-active:text-orange-500 transition-colors shrink-0">
              <Fragment set:html={step.icon} />
            </div>
            
            <h3 class="text-xl font-bold text-white leading-tight mb-0 group-hover:text-orange-100 group-[.active]:text-orange-100 group-active:text-orange-100 transition-colors">{step.title}</h3>
          </div>
          <p class="text-zinc-400 leading-relaxed text-sm relative z-20">
            {step.description}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .no-callout {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
</style>

<script>
  // Mousemove effect
  document.querySelectorAll('.group').forEach((card) => {
    card.addEventListener('mousemove', (e) => {
      const target = card as HTMLElement; 
      const rect = target.getBoundingClientRect();
      const x = (e as MouseEvent).clientX - rect.left;
      const y = (e as MouseEvent).clientY - rect.top;
      target.style.setProperty('--mouse-x', `${x}px`);
      target.style.setProperty('--mouse-y', `${y}px`);
    });
  });
</script>
